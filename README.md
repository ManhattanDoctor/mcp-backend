# MCP Backend - Сервер таможенных кодов ТН ВЭД

## Описание

Этот проект представляет собой MCP (Model Context Protocol) сервер, который предоставляет доступ к базе данных таможенных кодов ТН ВЭД (Товарная номенклатура внешнеэкономической деятельности). Сервер позволяет искать и получать информацию о классификации товаров для таможенных целей.

## Что такое ТН ВЭД?

ТН ВЭД - это система классификации товаров, используемая для таможенного оформления и статистики внешней торговли. Каждый товар имеет уникальный код, который определяет его категорию, ставки пошлин и другие таможенные характеристики.

## Возможности

- **Поиск кодов**: Быстрый поиск таможенных кодов по описанию товара
- **Получение информации**: Детальная информация о конкретном коде
- **Нечеткий поиск**: Поиск работает даже с неточными или частичными запросами
- **MCP интеграция**: Легкая интеграция с AI-ассистентами и другими приложениями

## Установка и запуск

### Требования

- Node.js (версия 14 или выше)
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск сервера

```bash
cd src/packages/application/tnved-code
npm start
```

Сервер будет запущен на порту 3001 (по умолчанию).

## Использование

### Доступные инструменты

1. **customs_codes_search** - поиск таможенных кодов
   - Параметр: `query` (строка) - запрос для поиска
   - Возвращает: список найденных кодов с оценкой релевантности

2. **customs_code_get** - получение конкретного кода
   - Параметр: `code` (строка) - код для получения
   - Возвращает: детальную информацию о коде

### Примеры использования

#### Поиск кодов по описанию
```
Запрос: "автомобили легковые"
Результат: список кодов, связанных с легковыми автомобилями
```

#### Получение конкретного кода
```
Запрос: код "8703"
Результат: детальное описание кода 8703
```

## Технические детали

- **Фреймворк**: NestJS
- **Поиск**: MiniSearch для быстрого нечеткого поиска
- **Протокол**: MCP (Model Context Protocol)
- **Язык**: TypeScript

## Структура проекта

```
mcp-backend/
├── src/
│   └── packages/
│       ├── application/
│       │   └── tnved-code/          # Основное приложение
│       │       ├── src/
│       │       │   ├── service/     # Сервисы для работы с данными
│       │       │   ├── tool/        # MCP инструменты
│       │       │   └── Data.ts      # База данных кодов
│       │       └── main.ts          # Точка входа
│       └── module/                   # Общие модули
└── package.json
```

## Настройка

Вы можете настроить следующие параметры через переменные окружения:

- `WEB_PORT` - порт сервера (по умолчанию: 3001)
- `WEB_HOST` - хост сервера (по умолчанию: localhost)

## Лицензия

MIT License

## Автор

Renat Gubaev

## Поддержка

Если у вас есть вопросы или проблемы, создайте issue в репозитории проекта.